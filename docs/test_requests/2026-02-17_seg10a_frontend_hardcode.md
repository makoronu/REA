# テスト依頼書: Seg 10a - フロント ハードコード排除+ZONE_COLORS重複解消

**日付:** 2026-02-17
**対象コミット:** (未コミット)

---

## テスト対象

| ファイル | 変更内容 |
|----------|----------|
| PropertiesPage.tsx | ハードコード文字列8箇所を定数参照に置換 |
| PropertyEditDynamicPage.tsx | import追加、デフォルト値2箇所を定数参照に置換（'準備中'→'販売準備'バグ修正含む） |
| CommandPalette.tsx | import追加、ステータス比較2箇所を定数参照に置換 |
| RegulationMap.tsx | ローカルZONE_COLORS削除→constants.tsからimport |

---

## 変更概要

フロントエンド全体のハードコードステータス文字列12箇所を定数参照に置換。RegulationMap.tsxのZONE_COLORS重複定義を解消。PropertyEditDynamicPage.tsxの新規物件デフォルト販売ステータス'準備中'を正しい'販売準備'に修正（バグ修正）。

---

## テストケース

### 正常系

| # | テスト | 手順 | 期待結果 |
|---|--------|------|----------|
| 1 | 物件一覧表示 | 物件一覧を開く | 正常に表示される |
| 2 | 販売中ビュー | 「販売中」ビュー選択 | 販売中の物件のみ表示 |
| 3 | 公開中ビュー | 「公開中」ビュー選択 | 公開中の物件のみ表示 |
| 4 | ステータスバッジ色（販売中） | 販売中の物件を確認 | 緑バッジ |
| 5 | ステータスバッジ色（成約済み） | 成約済みの物件を確認 | 青バッジ |
| 6 | ステータスバッジ色（公開） | 公開の物件を確認 | 緑バッジ |
| 7 | カード表示切替 | グリッド表示に切替 | ステータスバッジ正常表示 |
| 8 | 新規物件作成 | 新規作成ページを開く | 販売ステータス「販売準備」、公開ステータス「非公開」がデフォルト |
| 9 | コマンドパレット | Ctrl+K→物件検索 | ステータス色分けが正常 |
| 10 | 法令制限マップ | 物件編集→法令制限タブ | 用途地域の色分けが正常表示 |

### 攻撃ポイント

| # | 観点 | 確認内容 |
|---|------|----------|
| 11 | レグレッション（フィルタ） | 販売中/公開中ビューのフィルタが正常動作すること |
| 12 | レグレッション（色分け） | 用途地域マップの色がZoningMapFieldと同一であること |
| 13 | バグ修正確認 | 新規物件のデフォルト販売ステータスが「販売準備」であること（旧: '準備中'はDB不整合） |
| 14 | TypeScript | ビルドエラーなし（tsc --noEmit通過済み） |

---

## テスト環境

- API: `cd ~/my_programing/REA/rea-api && PYTHONPATH=~/my_programing/REA python -m uvicorn app.main:app --reload --port 8005`
- フロント: `cd ~/my_programing/REA/rea-admin && npm run dev`
